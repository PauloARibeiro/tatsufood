class SubMenu{constructor(){this.selectionLi=document.querySelectorAll(".content .menu-holder .dishes .type li"),this.title=document.querySelectorAll(".content .menu-holder .dishes .info .text .title"),this.img=document.querySelectorAll(".content .menu-holder .dishes .info .img"),this.price=document.querySelectorAll(".content .menu-holder .dishes .info .text .price"),this.loader=document.querySelectorAll(".loader"),this.arrow=document.querySelector(".content .menu-holder .right-arrow"),this.index=1,this.selectionLi.forEach((a,b)=>{a.addEventListener("click",()=>{this.index=b+1,this.getIntro()})}),this.arrow.addEventListener("click",()=>{this.index++,this.checkIndex()}),this.getIntro()}checkIndex(){3<this.index&&(this.index=1),1>this.index&&(this.index=3),this.getIntro()}getIntro(){this.loader.forEach(a=>{a.style.display="block"}),fetch("submenu.json").then(a=>a.json()).then(a=>{this.resetAnimation(),this.updateSubMenu(a)})}updateSubMenu(a){switch(this.index){case 1:Object.entries(a.breakfast).forEach((a,b)=>{this.updateAnimation(b,a)}),this.selectionLi[0].classList.add("active");break;case 2:Object.entries(a.lunch).forEach((a,b)=>{this.updateAnimation(b,a)}),this.selectionLi[1].classList.add("active");break;case 3:Object.entries(a.dinner).forEach((a,b)=>{this.updateAnimation(b,a)}),this.selectionLi[2].classList.add("active");}}resetAnimation(){this.selectionLi.forEach((a,b)=>{a.classList.remove("active"),this.title[b].classList.remove("fadeIn"),this.img[b].classList.remove("fadeIn"),this.price[b].classList.remove("priceSlideUp")})}updateAnimation(a,b){this.loader[a].style.display="none",setTimeout(()=>{this.price[a].innerHTML=b[1].price,this.price[a].classList.add("priceSlideUp")},450),setTimeout(()=>{this.title[a].innerHTML=b[1].name,this.title[a].classList.add("fadeIn")},150),setTimeout(()=>{this.img[a].classList.add("fadeIn"),this.img[a].style.background=`url('../${b[1].img}')`,this.img[a].style.backgroundSize="cover",this.img[a].style.backgroundPosition="center"},300)}}const subMenu=new SubMenu;